{"ast":null,"code":"import _toConsumableArray from \"/Users/flatironschool/dev/labs/mod4_project_gameswap/gamecollect_client/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _classCallCheck from \"/Users/flatironschool/dev/labs/mod4_project_gameswap/gamecollect_client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/flatironschool/dev/labs/mod4_project_gameswap/gamecollect_client/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/flatironschool/dev/labs/mod4_project_gameswap/gamecollect_client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/flatironschool/dev/labs/mod4_project_gameswap/gamecollect_client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/flatironschool/dev/labs/mod4_project_gameswap/gamecollect_client/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/flatironschool/dev/labs/mod4_project_gameswap/gamecollect_client/src/components/Frontend/HomePage/HomePage.js\";\nimport React, { Component } from \"react\";\nimport GamesContainer from \"../GamesContainer/GamesContainer\";\nimport SearchMenu from \"../SearchMenu/SearchMenu\";\nimport AddGame from \"../AddGame/AddGame\";\nimport './HomePage.css';\n\nvar HomePage =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(HomePage, _Component);\n\n  function HomePage(props) {\n    var _this;\n\n    _classCallCheck(this, HomePage);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(HomePage).call(this, props));\n\n    _this.fetchGame = function () {\n      fetch('/games').then(function (res) {\n        return res.json();\n      }).then(function (games) {\n        _this.setState({\n          games: games\n        });\n      });\n    };\n\n    _this.handleChange = function (searchTerm) {\n      _this.setState({\n        search: searchTerm\n      });\n    };\n\n    _this.filterSearch = function () {\n      //game.title.toLowerCase().includes(this.state.search.toLowerCase())\n      var filteredGames = _this.state.games.filter(function (game) {\n        return game.title.toLowerCase().includes(_this.state.search.toLowerCase());\n      });\n\n      if (_this.state.sortByName === true) {\n        filteredGames = _this.state.games;\n        filteredGames.sort(function (a, b) {\n          if (a.title.toLowerCase() < b.title.toLowerCase()) {\n            return -1;\n          }\n\n          if (a.title.toLowerCase() > b.title.toLowerCase()) {\n            return 1;\n          }\n\n          return 0;\n        });\n      }\n\n      if (_this.state.sortByGenre === true) {\n        filteredGames = _this.state.games;\n        filteredGames.sort(function (a, b) {\n          if (a.genre.toLowerCase() < b.genre.toLowerCase()) {\n            return -1;\n          }\n\n          if (a.genre.toLowerCase() > b.genre.toLowerCase()) {\n            return 1;\n          }\n\n          return 0;\n        });\n      }\n\n      return filteredGames;\n    };\n\n    _this.sortFunction = function () {\n      _this.setState({\n        sortByName: true\n      });\n    };\n\n    _this.sortByGenre = function () {\n      _this.setState({\n        sortByGenre: true\n      });\n    };\n\n    _this.addGame = function (game) {\n      var updatedGames = [].concat(_toConsumableArray(_this.state.games), [game]);\n\n      _this.setState({\n        games: updatedGames\n      });\n    };\n\n    _this.addGameButton = function () {\n      _this.setState({\n        addGameButton: !_this.state.addGameButton\n      });\n    };\n\n    _this.state = {\n      addGameButton: false,\n      search: \"\",\n      games: [],\n      sortByName: false,\n      sortByGenre: false\n    };\n    return _this;\n  }\n\n  _createClass(HomePage, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.fetchGame();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        className: \"games\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"secondary_nav\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111\n        },\n        __self: this\n      }, React.createElement(SearchMenu, {\n        search: this.handleChange,\n        sort: this.sortFunction,\n        sortByGenre: this.sortByGenre,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"btn_wrapper\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        className: \"round_btn\",\n        onClick: this.addGameButton,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115\n        },\n        __self: this\n      }, \"+\")))), this.state.addGameButton && React.createElement(AddGame, {\n        addGame: this.addGame,\n        closeHandler: this.addGameButton,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120\n        },\n        __self: this\n      }), React.createElement(GamesContainer, {\n        games: this.filterSearch(),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return HomePage;\n}(Component);\n\nexport default HomePage;","map":{"version":3,"sources":["/Users/flatironschool/dev/labs/mod4_project_gameswap/gamecollect_client/src/components/Frontend/HomePage/HomePage.js"],"names":["React","Component","GamesContainer","SearchMenu","AddGame","HomePage","props","fetchGame","fetch","then","res","json","games","setState","handleChange","searchTerm","search","filterSearch","filteredGames","state","filter","game","title","toLowerCase","includes","sortByName","sort","a","b","sortByGenre","genre","sortFunction","addGame","updatedGames","addGameButton"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport GamesContainer from \"../GamesContainer/GamesContainer\";\nimport SearchMenu from \"../SearchMenu/SearchMenu\";\nimport AddGame from \"../AddGame/AddGame\";\n\nimport './HomePage.css';\n\n\n\nclass HomePage extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      addGameButton: false,\n      search: \"\",\n      games: [],\n      sortByName: false,\n      sortByGenre: false\n    };\n  }\n\n  componentDidMount() {\n    this.fetchGame()\n  }\n\n  fetchGame = () => {\n    fetch('/games')\n    .then(res => res.json())\n    .then(games => {\n      this.setState({\n        games: games\n      })\n    })\n  }\n\n  handleChange = searchTerm => {\n    this.setState({\n      search: searchTerm\n    });\n  };\n\n  filterSearch = () => {\n    //game.title.toLowerCase().includes(this.state.search.toLowerCase())\n    let filteredGames = this.state.games.filter(game =>\n      game.title.toLowerCase().includes(this.state.search.toLowerCase())\n    );\n\n    if(this.state.sortByName === true) {\n\n      filteredGames = this.state.games\n\n      filteredGames.sort((a, b) => {\n\n        if (a.title.toLowerCase() < b.title.toLowerCase()) {\n          return -1;\n        }\n        if (a.title.toLowerCase() > b.title.toLowerCase()) {\n          return 1;\n        }\n        return 0;\n    })\n  }\n\n  if(this.state.sortByGenre === true) {\n\n    filteredGames = this.state.games\n\n    filteredGames.sort((a,b) => {\n\n      if (a.genre.toLowerCase() < b.genre.toLowerCase()) {\n        return -1\n      }\n      if (a.genre.toLowerCase() > b.genre.toLowerCase()) {\n        return 1\n      }\n      return 0\n    })\n  }\n  return filteredGames\n}\n\n  sortFunction = () => {\n    this.setState({\n      sortByName: true\n    })\n  };\n\n  sortByGenre = () => {\n    this.setState({\n      sortByGenre: true\n    });\n  };\n\n  addGame = game => {\n    let updatedGames = [...this.state.games, game];\n    this.setState({\n      games: updatedGames\n    });\n  };\n\n  addGameButton = () => {\n    this.setState({\n      addGameButton: !this.state.addGameButton\n    });\n  };\n\n  render() {\n    return (\n      <div className=\"games\">\n        <div className=\"secondary_nav\">\n          <SearchMenu search={this.handleChange} sort={this.sortFunction} sortByGenre={this.sortByGenre} />\n          <div className=\"btn_wrapper\">\n            <button className=\"round_btn\" onClick={this.addGameButton}>\n              <span>+</span>\n            </button>\n          </div>\n        </div>\n        {this.state.addGameButton && (\n          <AddGame addGame={this.addGame} closeHandler={this.addGameButton} />\n        )}\n        <GamesContainer games={this.filterSearch()} />\n      </div>\n    );\n  }\n}\n\nexport default HomePage;\n"]},"metadata":{},"sourceType":"module"}